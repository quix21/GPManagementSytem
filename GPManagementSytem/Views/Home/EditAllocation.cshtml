@using GPManagementSytem.Models
@model GPManagementSytem.ViewModel.AllocationViewModel
@{
    ViewBag.Title = "Edit Allocation";


    var academicYearDD = ViewData["AcademicYearDD"] as List<SelectListItem>;
}

<h1>@ViewBag.Title</h1>
<hr class="main">
@using (Html.BeginForm())
{
    @Html.AntiForgeryToken();
    @Html.ValidationSummary()

    <div class="validation-summary-errors" id="inclusion-errors"></div>

    <div id="error" style="display:none"></div>
    @Html.HiddenFor(model => model.AllocationId)
    @Html.HiddenFor(model => model.PracticeId)
    <h4>Sign Up Details</h4>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="input-group">
                    <span class="input-group-text">@Html.LabelFor(model => model.Surgery)</span>
                    @Html.EditorFor(model => model.Surgery, new { htmlAttributes = new { @class = "form-control", type = "text", @readonly = "readonly" } })
                </div>
            </div>
            <div class="col-md-6">

            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="input-group"><span class="input-group-text">Academic year</span>@Html.DropDownListFor(model => model.AcademicYear, academicYearDD, "--- Select Year ---", new { Class = "form-select" })</div>
            </div>
            <div class="col-md-6">
                <div class="input-group">
                    <span class="input-group-text-radio">Service Contract Received</span>
                    <div class="btn-group-radio" role="group" aria-label="Basic radio toggle button group">
                        @Html.RadioButtonFor(model => model.ServiceContractReceived, "1", new { @class = "btn-check", @id = "yes" })
                        <label class="btn btn-outline-info" for="yes">Yes</label>
                        @Html.RadioButtonFor(model => model.ServiceContractReceived, "0", new { @class = "btn-check", @id = "no" })
                        <label class="btn btn-outline-info" for="no">No</label>
                        @Html.RadioButtonFor(model => model.ServiceContractReceived, "2", new { @class = "btn-check", @id = "na" })
                        <label class="btn btn-outline-info" for="na">N/A</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="accordion" id="accordionPanelsStayOpenExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="true" aria-controls="panelsStayOpen-collapseTwo">
                            Year 3
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingTwo">
                        <div class="accordion-body">
                            <table class="table myAllocations">
                                <thead>
                                    <tr>
                                        <th>Practice</th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B1Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B1Allocated, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B2Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B2Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B3Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B3Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B4Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B4Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B5Requested, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B5Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B6Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B6Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3">
                                            <div>@Html.LabelFor(model => model.Year3B7Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year3dark">
                                            <div>@Html.LabelFor(model => model.Year3B7Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="glance">
                                    <tr>
                                        <td>@Model.Surgery</td>

                                        <td>
                                            @Html.EditorFor(model => model.Year3B1Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })
                                        </td>
                                        <td>@Html.EditorFor(model => model.Year3B1Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B2Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B2Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B3Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B3Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B4Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td class="Year3">@Html.EditorFor(model => model.Year3B4Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B5Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B5Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B6Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B6Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B7Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year3B7Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false" aria-controls="panelsStayOpen-collapseThree">
                            Year 4
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingThree">
                        <div class="accordion-body">
                            <table class="table myAllocations">
                                <thead>
                                    <tr>
                                        <th>Practice</th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B1Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B1Allocated, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B2Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B2Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B3Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B3Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B4Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B4Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B5Requested, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B5Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B6Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B6Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4">
                                            <div>@Html.LabelFor(model => model.Year4B7Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year4dark">
                                            <div>@Html.LabelFor(model => model.Year4B7Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="glance">
                                    <tr>
                                        <td>@Model.Surgery</td>

                                        <td>
                                            @Html.EditorFor(model => model.Year4B1Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })
                                        </td>
                                        <td>@Html.EditorFor(model => model.Year4B1Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B2Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B2Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B3Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B3Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B4Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td class="Year3">@Html.EditorFor(model => model.Year4B4Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B5Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B5Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B6Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B6Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B7Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year4B7Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="panelsStayOpen-headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseFour" aria-expanded="false" aria-controls="panelsStayOpen-collapseFour">
                            Year 5
                        </button>
                    </h2>
                    <div id="panelsStayOpen-collapseFour" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingFour">
                        <div class="accordion-body">
                            <table class="table myAllocations">
                                <thead>
                                    <tr>
                                        <th>Practice</th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B1Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B1Allocated, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B2Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B2Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B3Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B3Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B4Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B4Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B5Requested, new { @class = "rotatedLabel" }) </div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B5Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5">
                                            <div>@Html.LabelFor(model => model.Year5B6Requested, new { @class = "rotatedLabel" })</div>
                                        </th>
                                        <th class="rotated-text Year5dark">
                                            <div>@Html.LabelFor(model => model.Year5B6Allocated, new { @class = "rotatedLabel" })</div>
                                        </th>

                                    </tr>
                                </thead>
                                <tbody class="glance">
                                    <tr>
                                        <td>@Model.Surgery</td>

                                        <td>
                                            @Html.EditorFor(model => model.Year5B1Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })
                                        </td>
                                        <td>@Html.EditorFor(model => model.Year5B1Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B2Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B2Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B3Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B3Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B4Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td class="Year3">@Html.EditorFor(model => model.Year5B4Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B5Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B5Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B6Requested, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>
                                        <td>@Html.EditorFor(model => model.Year5B6Allocated, new { htmlAttributes = new { @class = "form-control-allocation", type = "text" } })</td>


                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="input-group">
                    <span class="input-group-text">Notes</span>
                    @Html.TextAreaFor(model => model.Notes,
                 new { @class = "form-control fullTextArea", @rows = 3, @readonly = "readonly" })
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <hr>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-md-6"><button class="btn btn-primary btn-success" type="submit">Save</button></div>
            <div class="col-md-6"></div>
        </div>
    </div>
}

